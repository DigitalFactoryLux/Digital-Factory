---
import Layout from '../layouts/Layout.astro';
import WaveDivider from '../components/WaveDivider.astro';
import { EXTERNAL_LINKS } from '../lib/constants';
import { t, tp, getLocalizedPath, type Locale } from '../i18n/utils';

interface Props {
  locale: Locale;
}

const { locale } = Astro.props;
const lang = locale;
---

<Layout title={`TEEQODE® - ${tp('teeqode', 'hero.subtitle', lang)}`} description={tp('teeqode', 'hero.subtitle', lang)}>

  <!-- Hero Section -->
  <section class="relative overflow-hidden min-h-[70vh] md:min-h-[85vh] flex items-center">
    <!-- Fond dégradé teal/cyan -->
    <div class="absolute inset-0 bg-gradient-to-br from-teal-100 via-cyan-50 to-emerald-100"></div>
    <div class="absolute inset-0 bg-gradient-to-tr from-teal-200/40 via-transparent to-cyan-200/30"></div>

    <!-- Blobs décoratifs -->
    <div class="blob w-64 md:w-[500px] h-64 md:h-[500px] bg-teal-300/50 -top-20 -left-32" style="animation-delay: 0s;"></div>
    <div class="blob w-48 md:w-96 h-48 md:h-96 bg-cyan-300/40 bottom-20 right-10" style="animation-delay: 2s;"></div>
    <div class="blob w-40 md:w-72 h-40 md:h-72 bg-emerald-200/40 top-1/2 left-1/2" style="animation-delay: 4s;"></div>

    <!-- Motif lignes -->
    <div class="absolute inset-0 lines-pattern opacity-40"></div>

    <!-- Vagues animées -->
    <div class="absolute bottom-0 left-0 right-0 pointer-events-none">
      <svg class="absolute bottom-0 w-[200%] animate-wave-slow" viewBox="0 0 2880 180" preserveAspectRatio="none" style="height: 100px;">
        <path d="M0 100C240 140 480 60 720 100C960 140 1200 60 1440 100C1680 140 1920 60 2160 100C2400 140 2640 60 2880 100V180H0Z" fill="rgba(255,255,255,0.3)" />
      </svg>
      <svg class="absolute bottom-0 w-[200%] animate-wave-mid" viewBox="0 0 2880 180" preserveAspectRatio="none" style="height: 80px;">
        <path d="M0 80C200 130 400 40 600 80C800 120 1000 30 1200 80C1400 130 1600 40 1800 80C2000 120 2200 30 2400 80C2600 130 2800 40 2880 80V180H0Z" fill="rgba(255,255,255,0.5)" />
      </svg>
      <svg class="absolute bottom-0 w-[200%] animate-wave-fast" viewBox="0 0 2880 180" preserveAspectRatio="none" style="height: 60px;">
        <path d="M0 90C180 130 360 50 540 90C720 130 900 50 1080 90C1260 130 1440 50 1620 90C1800 130 1980 50 2160 90C2340 130 2520 50 2700 90C2880 130 2880 90 2880 90V180H0Z" fill="white" />
      </svg>
    </div>

    <!-- Illustration décorative droite -->
    <div class="absolute right-0 top-1/2 -translate-y-1/2 opacity-10 hidden lg:block pointer-events-none">
      <svg width="500" height="500" viewBox="0 0 500 500" fill="none" class="text-teal-800">
        <circle cx="250" cy="250" r="100" stroke="currentColor" stroke-width="1" />
        <circle cx="250" cy="250" r="150" stroke="currentColor" stroke-width="0.5" stroke-dasharray="8 4" />
        <circle cx="250" cy="250" r="200" stroke="currentColor" stroke-width="0.5" />
        <rect x="200" y="200" width="100" height="100" stroke="currentColor" stroke-width="1.5" rx="8" />
        <line x1="250" y1="50" x2="250" y2="450" stroke="currentColor" stroke-width="0.5" />
        <line x1="50" y1="250" x2="450" y2="250" stroke="currentColor" stroke-width="0.5" />
        <circle cx="160" cy="160" r="8" fill="currentColor" opacity="0.5" />
        <circle cx="340" cy="160" r="8" fill="currentColor" opacity="0.5" />
        <circle cx="160" cy="340" r="8" fill="currentColor" opacity="0.5" />
        <circle cx="340" cy="340" r="8" fill="currentColor" opacity="0.5" />
      </svg>
    </div>

    <!-- Illustration décorative gauche -->
    <div class="absolute left-0 top-1/2 -translate-y-1/2 opacity-[0.07] hidden lg:block pointer-events-none">
      <svg width="400" height="400" viewBox="0 0 400 400" fill="none" class="text-teal-800">
        <circle cx="200" cy="200" r="80" stroke="currentColor" stroke-width="1" />
        <circle cx="200" cy="200" r="120" stroke="currentColor" stroke-width="0.5" stroke-dasharray="6 3" />
        <circle cx="200" cy="200" r="160" stroke="currentColor" stroke-width="0.5" />
        <path d="M200 40 L360 200 L200 360 L40 200Z" stroke="currentColor" stroke-width="0.5" fill="none" />
        <circle cx="120" cy="120" r="6" fill="currentColor" opacity="0.4" />
        <circle cx="280" cy="120" r="6" fill="currentColor" opacity="0.4" />
        <circle cx="120" cy="280" r="6" fill="currentColor" opacity="0.4" />
        <circle cx="280" cy="280" r="6" fill="currentColor" opacity="0.4" />
      </svg>
    </div>

    <!-- Cartes flottantes décoratives -->
    <div class="absolute top-[18%] left-[8%] hidden xl:block pointer-events-none z-10" style="animation: blob-float 6s ease-in-out infinite;">
      <div class="bg-white/70 backdrop-blur-lg rounded-2xl p-4 shadow-lg border border-white/40">
        <div class="flex items-center gap-3">
          <div class="w-10 h-10 rounded-xl bg-gradient-to-br from-teal-500 to-cyan-600 flex items-center justify-center">
            <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
            </svg>
          </div>
          <div>
            <p class="text-xs font-bold text-gray-900">{tp('teeqode', 'card.ged', lang)}</p>
            <p class="text-[10px] text-gray-500">{tp('teeqode', 'card.gedSub', lang)}</p>
          </div>
        </div>
      </div>
    </div>

    <div class="absolute bottom-[25%] left-[5%] hidden xl:block pointer-events-none z-10" style="animation: blob-float 7s ease-in-out infinite; animation-delay: 2s;">
      <div class="bg-white/70 backdrop-blur-lg rounded-2xl p-4 shadow-lg border border-white/40">
        <div class="flex items-center gap-3">
          <div class="w-10 h-10 rounded-xl bg-gradient-to-br from-emerald-500 to-teal-600 flex items-center justify-center">
            <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
            </svg>
          </div>
          <div>
            <p class="text-xs font-bold text-gray-900">{tp('teeqode', 'card.compliance', lang)}</p>
            <p class="text-[10px] text-gray-500">{tp('teeqode', 'card.complianceSub', lang)}</p>
          </div>
        </div>
      </div>
    </div>

    <div class="absolute top-[15%] right-[8%] hidden xl:block pointer-events-none z-10" style="animation: blob-float 8s ease-in-out infinite; animation-delay: 1s;">
      <div class="bg-white/70 backdrop-blur-lg rounded-2xl p-4 shadow-lg border border-white/40">
        <div class="flex items-center gap-3">
          <div class="w-10 h-10 rounded-xl bg-gradient-to-br from-cyan-500 to-teal-600 flex items-center justify-center">
            <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" />
            </svg>
          </div>
          <div>
            <p class="text-xs font-bold text-gray-900">{tp('teeqode', 'card.security', lang)}</p>
            <p class="text-[10px] text-gray-500">{tp('teeqode', 'card.securitySub', lang)}</p>
          </div>
        </div>
      </div>
    </div>

    <div class="absolute bottom-[22%] right-[6%] hidden xl:block pointer-events-none z-10" style="animation: blob-float 6.5s ease-in-out infinite; animation-delay: 3s;">
      <div class="bg-white/70 backdrop-blur-lg rounded-2xl p-4 shadow-lg border border-white/40">
        <div class="flex items-center gap-3">
          <div class="w-10 h-10 rounded-xl bg-gradient-to-br from-emerald-500 to-cyan-600 flex items-center justify-center">
            <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" />
            </svg>
          </div>
          <div>
            <p class="text-xs font-bold text-gray-900">{tp('teeqode', 'card.fast', lang)}</p>
            <p class="text-[10px] text-gray-500">{tp('teeqode', 'card.fastSub', lang)}</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Contenu -->
    <div class="relative z-10 max-w-7xl mx-auto px-6 md:px-12 py-24 md:py-32 text-center">
      <div class="max-w-3xl mx-auto">
        <div class="badge bg-teal-100 text-teal-700 mb-6">{tp('teeqode', 'hero.badge', lang)}</div>

        <h1 class="text-3xl sm:text-4xl md:text-5xl lg:text-[3.5rem] font-extrabold text-gray-900 leading-[1.1] mb-4 tracking-tight" set:html={tp('teeqode', 'hero.title', lang)}></h1>
        <p class="text-base md:text-lg lg:text-xl text-gray-700 leading-relaxed mb-8 md:mb-10 max-w-xl mx-auto">
          {tp('teeqode', 'hero.subtitle', lang)}
        </p>
        <div class="flex flex-wrap justify-center gap-4 mb-10">
          <a href={EXTERNAL_LINKS.teeqode} target="_blank" rel="noopener noreferrer" class="btn-primary text-base">
            {t('cta.tryTeeqode', lang)}
            <svg class="inline-block ml-2 w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14" />
            </svg>
          </a>
          <a href={`${getLocalizedPath('/', lang)}#contact`} class="btn-outline text-base">
            {t('cta.contact', lang)}
          </a>
        </div>

        <!-- Badges services -->
        <div class="flex flex-wrap justify-center gap-3">
          {(tp('teeqode', 'hero.badges', lang) as string[]).map((badge: string, i: number) => {
            const colors = ['border-teal-200/50 text-teal-700', 'border-cyan-200/50 text-cyan-700', 'border-emerald-200/50 text-emerald-700', 'border-teal-200/50 text-teal-700'];
            return <span class={`px-4 py-2 rounded-full bg-white/60 backdrop-blur-sm border ${colors[i]} text-sm font-semibold shadow-sm`}>{badge}</span>;
          })}
        </div>
      </div>
    </div>
  </section>

  <!-- Pourquoi choisir TEEQODE ? -->
  <section class="section-padding bg-white">
    <div class="max-w-7xl mx-auto">
      <div class="text-center mb-10 md:mb-16 fade-in">
        <div class="badge bg-teal-50 text-teal-700 mx-auto mb-6">
          <span class="w-1.5 h-1.5 rounded-full bg-teal-500"></span>
          {tp('teeqode', 'why.badge', lang)}
        </div>
        <h2 class="text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold text-gray-900 mb-4" set:html={tp('teeqode', 'why.title', lang)}></h2>
        <p class="text-lg text-gray-500 max-w-3xl mx-auto">
          {tp('teeqode', 'why.subtitle', lang)}
        </p>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-8 stagger-children">
        <!-- Card 1 -->
        <div class="relative bg-gradient-to-br from-teal-50 to-cyan-50 rounded-3xl p-6 md:p-10 fade-in group hover:shadow-2xl hover:-translate-y-2 transition-all duration-500 border border-teal-100/50 overflow-hidden">
          <div class="absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-teal-200/30 to-transparent rounded-bl-full"></div>
          <div class="relative">
            <div class="w-16 h-16 rounded-2xl bg-gradient-to-br from-teal-500 to-cyan-600 flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300 shadow-lg shadow-teal-200">
              <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" />
              </svg>
            </div>
            <h3 class="text-xl font-bold text-gray-900 mb-3">{tp('teeqode', 'why.card1.title', lang)}</h3>
            <p class="text-gray-600 leading-relaxed">
              {tp('teeqode', 'why.card1.text', lang)}
            </p>
          </div>
        </div>

        <!-- Card 2 -->
        <div class="relative bg-gradient-to-br from-emerald-50 to-teal-50 rounded-3xl p-6 md:p-10 fade-in group hover:shadow-2xl hover:-translate-y-2 transition-all duration-500 border border-emerald-100/50 overflow-hidden">
          <div class="absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-emerald-200/30 to-transparent rounded-bl-full"></div>
          <div class="relative">
            <div class="w-16 h-16 rounded-2xl bg-gradient-to-br from-emerald-500 to-teal-600 flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300 shadow-lg shadow-emerald-200">
              <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6zM16 13a1 1 0 011-1h2a1 1 0 011 1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-6z" />
              </svg>
            </div>
            <h3 class="text-xl font-bold text-gray-900 mb-3">{tp('teeqode', 'why.card2.title', lang)}</h3>
            <p class="text-gray-600 leading-relaxed">
              {tp('teeqode', 'why.card2.text', lang)}
            </p>
          </div>
        </div>

        <!-- Card 3 -->
        <div class="relative bg-gradient-to-br from-cyan-50 to-teal-50 rounded-3xl p-6 md:p-10 fade-in group hover:shadow-2xl hover:-translate-y-2 transition-all duration-500 border border-cyan-100/50 overflow-hidden">
          <div class="absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-cyan-200/30 to-transparent rounded-bl-full"></div>
          <div class="relative">
            <div class="w-16 h-16 rounded-2xl bg-gradient-to-br from-cyan-500 to-teal-600 flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300 shadow-lg shadow-cyan-200">
              <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" />
              </svg>
            </div>
            <h3 class="text-xl font-bold text-gray-900 mb-3">{tp('teeqode', 'why.card3.title', lang)}</h3>
            <p class="text-gray-600 leading-relaxed">
              {tp('teeqode', 'why.card3.text', lang)}
            </p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Fonctionnalités -->
  <section class="relative">
    <WaveDivider flip={true} color="#f0fdfa" />
    <div class="section-padding bg-gradient-to-b from-teal-50 via-cyan-50/60 to-teal-50">
      <div class="max-w-7xl mx-auto">
        <div class="text-center mb-10 md:mb-16 fade-in">
          <div class="badge bg-teal-100 text-teal-700 mx-auto mb-6">
            <span class="w-1.5 h-1.5 rounded-full bg-teal-500"></span>
            {tp('teeqode', 'features.badge', lang)}
          </div>
          <h2 class="text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold text-gray-900 mb-4" set:html={tp('teeqode', 'features.title', lang)}></h2>
          <p class="text-lg text-gray-500 max-w-3xl mx-auto">
            {tp('teeqode', 'features.subtitle', lang)}
          </p>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-8 stagger-children">
          <!-- Card 1 -->
          <div class="relative bg-gradient-to-br from-teal-50 to-cyan-50 rounded-3xl p-6 md:p-10 fade-in group hover:shadow-2xl hover:-translate-y-2 transition-all duration-500 border border-teal-100/50 overflow-hidden">
            <div class="absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-teal-200/30 to-transparent rounded-bl-full"></div>
            <div class="relative">
              <div class="w-16 h-16 rounded-2xl bg-gradient-to-br from-teal-500 to-cyan-600 flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300 shadow-lg shadow-teal-200">
                <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M11 4a2 2 0 114 0v1a1 1 0 001 1h3a1 1 0 011 1v3a1 1 0 01-1 1h-1a2 2 0 100 4h1a1 1 0 011 1v3a1 1 0 01-1 1h-3a1 1 0 01-1-1v-1a2 2 0 10-4 0v1a1 1 0 01-1 1H7a1 1 0 01-1-1v-3a1 1 0 00-1-1H4a2 2 0 110-4h1a1 1 0 001-1V7a1 1 0 011-1h3a1 1 0 001-1V4z" />
                </svg>
              </div>
              <h3 class="text-xl font-bold text-gray-900 mb-3">{tp('teeqode', 'features.card1.title', lang)}</h3>
              <p class="text-gray-600 leading-relaxed">
                {tp('teeqode', 'features.card1.text', lang)}
              </p>
            </div>
          </div>

          <!-- Card 2 -->
          <div class="relative bg-gradient-to-br from-emerald-50 to-teal-50 rounded-3xl p-6 md:p-10 fade-in group hover:shadow-2xl hover:-translate-y-2 transition-all duration-500 border border-emerald-100/50 overflow-hidden">
            <div class="absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-emerald-200/30 to-transparent rounded-bl-full"></div>
            <div class="relative">
              <div class="w-16 h-16 rounded-2xl bg-gradient-to-br from-emerald-500 to-teal-600 flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300 shadow-lg shadow-emerald-200">
                <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6" />
                </svg>
              </div>
              <h3 class="text-xl font-bold text-gray-900 mb-3">{tp('teeqode', 'features.card2.title', lang)}</h3>
              <p class="text-gray-600 leading-relaxed">
                {tp('teeqode', 'features.card2.text', lang)}
              </p>
            </div>
          </div>

          <!-- Card 3 -->
          <div class="relative bg-gradient-to-br from-cyan-50 to-teal-50 rounded-3xl p-6 md:p-10 fade-in group hover:shadow-2xl hover:-translate-y-2 transition-all duration-500 border border-cyan-100/50 overflow-hidden">
            <div class="absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-cyan-200/30 to-transparent rounded-bl-full"></div>
            <div class="relative">
              <div class="w-16 h-16 rounded-2xl bg-gradient-to-br from-cyan-500 to-teal-600 flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300 shadow-lg shadow-cyan-200">
                <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" />
                </svg>
              </div>
              <h3 class="text-xl font-bold text-gray-900 mb-3">{tp('teeqode', 'features.card3.title', lang)}</h3>
              <p class="text-gray-600 leading-relaxed">
                {tp('teeqode', 'features.card3.text', lang)}
              </p>
            </div>
          </div>

          <!-- Card 4 -->
          <div class="relative bg-gradient-to-br from-teal-50 to-emerald-50 rounded-3xl p-6 md:p-10 fade-in group hover:shadow-2xl hover:-translate-y-2 transition-all duration-500 border border-teal-100/50 overflow-hidden">
            <div class="absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-teal-200/30 to-transparent rounded-bl-full"></div>
            <div class="relative">
              <div class="w-16 h-16 rounded-2xl bg-gradient-to-br from-teal-500 to-emerald-600 flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300 shadow-lg shadow-teal-200">
                <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M13 10V3L4 14h7v7l9-11h-7z" />
                </svg>
              </div>
              <h3 class="text-xl font-bold text-gray-900 mb-3">{tp('teeqode', 'features.card4.title', lang)}</h3>
              <p class="text-gray-600 leading-relaxed">
                {tp('teeqode', 'features.card4.text', lang)}
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
    <WaveDivider color="white" />
  </section>

  <!-- Notre méthode -->
  <section class="section-padding bg-white">
    <div class="max-w-7xl mx-auto">
      <div class="text-center mb-10 md:mb-16 fade-in">
        <div class="badge bg-teal-50 text-teal-700 mx-auto mb-6">
          <span class="w-1.5 h-1.5 rounded-full bg-teal-500"></span>
          {tp('teeqode', 'method.badge', lang)}
        </div>
        <h2 class="text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold text-gray-900 mb-4" set:html={tp('teeqode', 'method.title', lang)}></h2>
        <p class="text-lg text-gray-500">
          {tp('teeqode', 'method.subtitle', lang)}
        </p>
      </div>

      <div class="relative">
        <!-- Ligne de connexion -->
        <div class="hidden md:block absolute top-[4.5rem] left-[8%] right-[8%] h-0.5 bg-gradient-to-r from-teal-200 via-cyan-300 to-teal-200"></div>

        <div class="grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-8 stagger-children">
          <!-- Étape 01 -->
          <div class="relative fade-in group">
            <div class="bg-gradient-to-br from-teal-50 to-cyan-50 rounded-3xl p-8 h-full hover:shadow-xl hover:-translate-y-2 transition-all duration-500 border border-teal-100/50 text-center">
              <div class="w-20 h-20 rounded-full bg-gradient-to-br from-teal-500 to-cyan-600 flex items-center justify-center mx-auto mb-6 text-white font-bold text-2xl group-hover:scale-110 transition-transform shadow-lg shadow-teal-200 relative z-10">
                01
              </div>
              <h3 class="text-xl font-bold text-gray-900 mb-3">{tp('teeqode', 'method.step1.title', lang)}</h3>
              <p class="text-gray-500 leading-relaxed">
                {tp('teeqode', 'method.step1.text', lang)}
              </p>
            </div>
          </div>

          <!-- Étape 02 -->
          <div class="relative fade-in group">
            <div class="bg-gradient-to-br from-teal-50 to-cyan-50 rounded-3xl p-8 h-full hover:shadow-xl hover:-translate-y-2 transition-all duration-500 border border-teal-100/50 text-center">
              <div class="w-20 h-20 rounded-full bg-gradient-to-br from-teal-500 to-cyan-600 flex items-center justify-center mx-auto mb-6 text-white font-bold text-2xl group-hover:scale-110 transition-transform shadow-lg shadow-teal-200 relative z-10">
                02
              </div>
              <h3 class="text-xl font-bold text-gray-900 mb-3">{tp('teeqode', 'method.step2.title', lang)}</h3>
              <p class="text-gray-500 leading-relaxed">
                {tp('teeqode', 'method.step2.text', lang)}
              </p>
            </div>
          </div>

          <!-- Étape 03 -->
          <div class="relative fade-in group">
            <div class="bg-gradient-to-br from-teal-50 to-cyan-50 rounded-3xl p-8 h-full hover:shadow-xl hover:-translate-y-2 transition-all duration-500 border border-teal-100/50 text-center">
              <div class="w-20 h-20 rounded-full bg-gradient-to-br from-teal-500 to-cyan-600 flex items-center justify-center mx-auto mb-6 text-white font-bold text-2xl group-hover:scale-110 transition-transform shadow-lg shadow-teal-200 relative z-10">
                03
              </div>
              <h3 class="text-xl font-bold text-gray-900 mb-3">{tp('teeqode', 'method.step3.title', lang)}</h3>
              <p class="text-gray-500 leading-relaxed">
                {tp('teeqode', 'method.step3.text', lang)}
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- CTA Banner -->
  <section class="relative overflow-hidden py-12 md:py-24">
    <div class="absolute inset-0 bg-gradient-to-r from-teal-600 via-cyan-600 to-emerald-600"></div>
    <div class="absolute inset-0 lines-pattern opacity-10"></div>
    <div class="blob w-64 md:w-[500px] h-64 md:h-[500px] bg-white/10 -top-32 -right-32"></div>
    <div class="blob w-80 h-80 bg-white/10 -bottom-20 -left-20" style="animation-delay: 3s;"></div>
    <div class="blob w-64 h-64 bg-emerald-400/10 top-1/2 left-1/3" style="animation-delay: 5s;"></div>

    <div class="relative z-10 max-w-4xl mx-auto px-6 text-center">
      <h2 class="text-2xl sm:text-3xl md:text-5xl font-bold text-white mb-6">
        {tp('teeqode', 'cta.title', lang)}
      </h2>
      <p class="text-teal-100 text-base md:text-lg mb-6 md:mb-10 max-w-2xl mx-auto">
        {tp('teeqode', 'cta.text', lang)}
      </p>
      <div class="flex flex-wrap gap-4 justify-center">
        <a href={EXTERNAL_LINKS.teeqode} target="_blank" rel="noopener noreferrer" class="inline-block bg-white text-teal-700 px-6 py-3 md:px-10 md:py-4 rounded-full font-semibold hover:bg-teal-50 transition-all duration-300 hover:shadow-2xl hover:-translate-y-1 text-lg">
          {t('cta.tryTeeqode', lang)}
          <svg class="inline-block ml-2 w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14" />
          </svg>
        </a>
        <a href={`${getLocalizedPath('/', lang)}#contact`} class="inline-block border-2 border-white text-white px-6 py-3 md:px-10 md:py-4 rounded-full font-semibold hover:bg-white/10 transition-all duration-300 text-lg">
          {t('cta.contactShort', lang)}
        </a>
      </div>
    </div>
  </section>

</Layout>
